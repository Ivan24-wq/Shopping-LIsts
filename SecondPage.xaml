<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp1.SecondPage"
             Title="Корзина">
    <ScrollView>
        <VerticalStackLayout Padding="10" Spacing="10">

            <Label Text="Что купить?"
                   x:Name="ReceiveDataLabel"
                   FontSize="26"/>

            <Frame
            BackgroundColor="#FFCE09"
            CornerRadius="8"
            Padding="10"
            Margin="0, 10"
            HasShadow="False"
            HorizontalOptions="Fill"
            HeightRequest="50">
                <Label
                Text="Вaши покупки"
                FontSize="24"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                TextColor="Black"/>
            </Frame>

            <CollectionView ItemsSource="{Binding Items}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Entry Text="{Binding ., Mode=TwoWay}"
                           FontSize="18"
                               TextChanged="OnItemTextChanged"
                           IsReadOnly="{Binding Source={x:Reference EditToggleButton}, Path=BindingContext.IsReadOnly}"/>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <HorizontalStackLayout Spacing="20" HorizontalOptions="Fill">
                <Button BackgroundColor="Green"
                    x:Name="EditToggleButton"
                    Text="{Binding EditButtonText}"
                    FontSize="24"
                    FontAttributes="Italic"
                    WidthRequest="200"
                    Padding="10, 0"
                    CornerRadius="8"
                    TextColor="White"
                    HorizontalOptions="Start"
                    Clicked="OnClickedEdit"/>

                <Button BackgroundColor="DarkRed"
                    Text="Удалить список"
                    FontSize="20"
                    FontAttributes="Bold"
                    TextColor="White"
                    WidthRequest="170"
                    Padding="0, 5"
                    CornerRadius="20"
                    HorizontalOptions="End"
                    Clicked="OnCLickedDelete"/>
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>